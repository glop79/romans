<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Le Dernier Souffle de l'Ã‰ther</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;700&family=Montserrat:wght@300;500&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-color: #0f0e17;
            --card-bg: #1a1a24;
            --text-color: #a7a9be;
            --title-color: #fffffe;
            --accent: #ff8906; /* Orange/Or magique */
            --secondary: #f25f4c;
            --border: #2e2f3e;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Montserrat', sans-serif;
            margin: 0;
            display: flex;
            justify-content: center;
            min-height: 100vh;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23232330' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        #game-wrapper {
            width: 100%;
            max-width: 900px;
            background: var(--card-bg);
            border-left: 1px solid var(--border);
            border-right: 1px solid var(--border);
            box-shadow: 0 0 60px rgba(0,0,0,0.7);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Header & Progress */
        header {
            padding: 20px;
            text-align: center;
            border-bottom: 2px solid var(--accent);
            background: linear-gradient(to bottom, #0a0a0f, var(--card-bg));
        }

        h1 {
            font-family: 'Cormorant Garamond', serif;
            color: var(--title-color);
            font-size: 2.5rem;
            margin: 0;
            text-transform: uppercase;
            letter-spacing: 3px;
            text-shadow: 0 0 10px rgba(255, 137, 6, 0.5);
        }

        .chapter-indicator {
            font-size: 0.9rem;
            color: var(--accent);
            margin-top: 5px;
            font-weight: bold;
            text-transform: uppercase;
        }

        /* Image Scene */
        #visual-container {
            width: 100%;
            height: 450px;
            position: relative;
            background-color: #000;
            overflow: hidden;
            border-bottom: 1px solid var(--border);
        }

        #scene-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0;
            transition: opacity 0.8s ease;
            filter: brightness(0.9) contrast(1.1);
        }

        .loading-overlay {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2;
            color: var(--accent);
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.5rem;
        }

        /* Controls (Audio) */
        #controls {
            padding: 10px 30px;
            display: flex;
            justify-content: flex-end;
            background: rgba(0,0,0,0.2);
        }

        .icon-btn {
            background: none;
            border: 1px solid var(--accent);
            color: var(--accent);
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
        }

        .icon-btn:hover {
            background: var(--accent);
            color: #000;
        }

        .icon-btn.speaking {
            background: var(--secondary);
            border-color: var(--secondary);
            color: white;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(242, 95, 76, 0.4); } 70% { box-shadow: 0 0 0 10px rgba(242, 95, 76, 0); } 100% { box-shadow: 0 0 0 0 rgba(242, 95, 76, 0); } }

        /* Story Text */
        #narrative {
            padding: 40px;
            font-size: 1.15rem;
            line-height: 1.8;
            flex-grow: 1;
        }

        #narrative p { margin-bottom: 20px; }

        /* Choices */
        #choices {
            padding: 0 40px 40px 40px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .choice-card {
            background: linear-gradient(45deg, #23232e, #2a2a35);
            border: 1px solid var(--border);
            padding: 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.2s, border-color 0.2s;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .choice-card:hover {
            border-color: var(--accent);
            transform: translateX(5px);
            background: linear-gradient(45deg, #2a2a35, #32323e);
        }

        .choice-number {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2rem;
            color: var(--border);
            font-weight: bold;
        }
        .choice-card:hover .choice-number { color: var(--accent); }

        .choice-text { font-weight: 500; color: #fffffe; }

        /* Endings */
        .ending-box {
            border: 2px solid var(--accent);
            padding: 30px;
            text-align: center;
            margin-top: 20px;
            border-radius: 10px;
            background: rgba(255, 137, 6, 0.1);
        }
        .ending-title {
            color: var(--accent);
            font-family: 'Cormorant Garamond', serif;
            font-size: 2rem;
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            h1 { font-size: 1.8rem; }
            #visual-container { height: 300px; }
            #narrative, #choices { padding: 20px; }
        }
    </style>
</head>
<body>

<div id="game-wrapper">
    <header>
        <h1>Le Dernier Souffle de l'Ã‰ther</h1>
        <div class="chapter-indicator" id="chapter-display">Chapitre 1</div>
    </header>

    <div id="visual-container">
        <div class="loading-overlay" id="loader">GÃ©nÃ©ration de la vision...</div>
        <img id="scene-img" src="" alt="ScÃ¨ne fantastique">
    </div>

    <div id="controls">
        <button class="icon-btn" id="tts-btn" onclick="toggleSpeech()">
            <span>ðŸ”Š</span> <span id="tts-text">Lire l'histoire</span>
        </button>
    </div>

    <div id="narrative">
        <!-- Le texte s'insÃ¨re ici -->
    </div>

    <div id="choices">
        <!-- Les choix s'insÃ¨rent ici -->
    </div>
</div>

<script>
    // --- Configuration ---
    // Prompt de style global pour assurer la cohÃ©rence graphique
    const ART_STYLE = "Epic High Fantasy Art, ethereal lighting, magic particles, cinematic composition, detailed textures, oil painting style by Greg Rutkowski, 8k, dramatic shadows, ";
    const POLLINATIONS_ROOT = "https://image.pollinations.ai/prompt/";

    // --- DonnÃ©es de l'Histoire (10 Chapitres / Niveaux de profondeur) ---
    const storyNodes = {
        "1": {
            chapter: "Chapitre 1 : L'Ã‰veil de l'Ã‰ther",
            text: "Vous vous rÃ©veillez en sursaut. La marque sur votre bras brille d'une lueur azur aveuglante. Dehors, le ciel est dÃ©chirÃ© par des Ã©clairs violets. L'Ã‰ther, la source de toute magie, est en train de mourir, ou de muter. Vous Ãªtes un Arcaniste, l'un des derniers capables de canaliser cette Ã©nergie. Votre village de Val-Clair est assailli par des crÃ©atures d'ombre nÃ©es de la corruption.",
            img: "A glowing blue magical rune on a warrior arm, dark bedroom, violet lightning outside window, chaotic atmosphere",
            choices: [
                { txt: "Saisir votre bÃ¢ton et dÃ©fendre les villageois sur la place centrale.", next: "2a" },
                { txt: "Fuir par les toits pour atteindre la Tour des Sages et comprendre ce phÃ©nomÃ¨ne.", next: "2b" }
            ]
        },
        "2a": {
            chapter: "Chapitre 2 : Le DÃ©fenseur",
            text: "Vous dÃ©chaÃ®nez une vague d'Ã©nergie pure. Les ombres reculent, hurlant de douleur. Le forgeron, blessÃ©, vous tend une Ã©pÃ©e imprÃ©gnÃ©e de rÃ©sidu stellaire. 'Prends-la', grogne-t-il. 'C'est la seule chose qui coupe leur chair'. Au loin, une corne de brume sonne : l'armÃ©e du Roi de Fer approche, cherchant Ã  purger la zone.",
            img: "Warrior casting a blue magic wave against shadow monsters in a burning medieval village, holding a glowing sword",
            choices: [
                { txt: "Rejoindre l'armÃ©e du Roi de Fer pour unir vos forces.", next: "3a" },
                { txt: "Partir seul vers les Montagnes, l'armÃ©e tuera tout le monde par prÃ©caution.", next: "3b" }
            ]
        },
        "2b": {
            chapter: "Chapitre 2 : L'Observateur",
            text: "Vous courrez sur les tuiles glissantes. Du haut de la Tour, vous voyez la source du chaos : une fissure dimensionnelle au-dessus du Volcan d'Obsidienne. Vous trouvez le vieux Sage mourant. Il vous confie un cristal vide. 'Il faut... capturer l'essence... avant qu'elle ne dÃ©truise tout.'",
            img: "A hooded figure standing on a rooftop looking at a giant purple rift in the sky over a volcano, rain, dark fantasy",
            choices: [
                { txt: "Absorber l'Ã¢me du Sage dans le cristal pour gagner sa connaissance.", next: "3c" },
                { txt: "Prendre le cristal et partir immÃ©diatement vers le Volcan.", next: "3b" }
            ]
        },
        "3a": {
            chapter: "Chapitre 3 : L'Alliance de Fer",
            text: "Le GÃ©nÃ©ral du Roi est mÃ©fiant, mais votre dÃ©monstration de force l'a convaincu. Vous voyagez dans un char Ã  vapeur blindÃ©. La technologie humaine tente de repousser la magie sauvage. Cependant, vous sentez que les machines consomment l'Ã‰ther restant pour fonctionner, accÃ©lÃ©rant la fin du monde.",
            img: "Steampunk armored tank convoy moving through a magical forest, soldiers in heavy iron armor, fog",
            choices: [
                { txt: "Saboter le moteur du char pour prÃ©server l'Ã‰ther environnant.", next: "4a" },
                { txt: "Utiliser vos pouvoirs pour surcharger le moteur et aller plus vite.", next: "4b" }
            ]
        },
        "3b": {
            chapter: "Chapitre 3 : La Route Solitaire",
            text: "Le chemin des montagnes est traÃ®tre. Le froid mordant est surnaturel. Vous rencontrez un Golem de Pierre, gardien d'un ancien temps. Il ne vous attaque pas, mais bloque le passage. Il semble attendre une rÃ©ponse Ã  une question silencieuse.",
            img: "Giant stone golem covered in snow blocking a mountain pass, blizzard, tiny human figure in front",
            choices: [
                { txt: "Lui montrer votre marque lumineuse en signe de paix.", next: "4c" },
                { txt: "Le contourner par les tunnels des nains, dangereux mais discrets.", next: "4d" }
            ]
        },
        "3c": {
            chapter: "Chapitre 3 : La Soif de Savoir",
            text: "Le cristal vibre. La voix du Sage rÃ©sonne dans votre tÃªte, vous guidant, mais aussi vous jugeant. Vous connaissez dÃ©sormais un raccourci : le Portail des Ombres. C'est une voie rapide, mais elle risque de corrompre votre esprit.",
            img: "A glowing crystal in hand emitting ghostly whispers, dark portal swirling with black smoke in a library",
            choices: [
                { txt: "Traverser le Portail des Ombres.", next: "4e" },
                { txt: "Ignorer la voix et voyager Ã  cheval.", next: "3b" } // Retour vers le chemin physique
            ]
        },
        // --- Chapitre 4 : Diversification des enjeux ---
        "4a": {
            chapter: "Chapitre 4 : La RÃ©bellion",
            text: "Le moteur explose. Le GÃ©nÃ©ral est furieux, mais vous lui expliquez que la technologie tue la magie. Dans la confusion, une bÃªte de l'Ã‰ther attaque. Sans les machines, c'est Ã  vous seul de protÃ©ger les soldats.",
            img: "Explosion of a steampunk engine, smoke, chaos, glowing magical beast emerging from the smoke",
            choices: [{ txt: "Combattre la bÃªte et prouver la supÃ©rioritÃ© de la magie.", next: "5a" }]
        },
        "4b": {
            chapter: "Chapitre 4 : La Vitesse",
            text: "Le char file Ã  une vitesse impossible, dÃ©chirant la rÃ©alitÃ©. Vous arrivez au pied du Volcan en un temps record, mais le vÃ©hicule est en miettes et les soldats sont Ã©puisÃ©s. Vous Ãªtes devant l'entrÃ©e des forges.",
            img: "Crashed steampunk vehicle near a volcano with lava rivers, exhausted soldiers, ominous forge entrance",
            choices: [{ txt: "Entrer dans les Forges Anciennes.", next: "5b" }]
        },
        "4c": {
            chapter: "Chapitre 4 : L'HÃ©ritage",
            text: "Le Golem s'Ã©carte en grondant : 'Passe, Enfant de l'Ã‰toile'. Il vous offre un CÅ“ur de Pierre, un artefact capable d'absorber les coups. Vous vous sentez invincible.",
            img: "Giant stone hand offering a glowing gemstone heart to a warrior, snowy mountains background",
            choices: [{ txt: "Accepter le don et continuer l'ascension.", next: "5b" }]
        },
        "4d": {
            chapter: "Chapitre 4 : Les Profondeurs",
            text: "Les tunnels grouillent d'insectes gÃ©ants. Vous devez utiliser votre magie pour crÃ©er de la lumiÃ¨re, ce qui attire les prÃ©dateurs. Vous trouvez une ancienne citÃ© naine abandonnÃ©e.",
            img: "Underground dwarven city ruins, gigantic stone pillars, darkness, bioluminescent spiders",
            choices: [{ txt: "Fuir vers la sortie sans fouiller.", next: "5b" }]
        },
        "4e": {
            chapter: "Chapitre 4 : La Corruption",
            text: "Le monde des ombres est froid. Vous en sortez rapidement, mais votre peau est devenue grisÃ¢tre. Vous Ãªtes au pied du volcan, mais vous sentez une faim insatiable de magie.",
            img: "Character with pale grey skin and glowing purple eyes looking at a volcano, dark aura",
            choices: [{ txt: "Drainer la vie d'une plante proche pour vous nourrir.", next: "5c" }]
        },
        // --- Convergence vers le milieu de l'histoire (Chapitre 5-6) ---
        "5a": {
            chapter: "Chapitre 5 : Le Champion",
            text: "La bÃªte est vaincue. Les soldats vous vÃ©nÃ¨rent comme un demi-dieu. Vous marchez vers le volcan avec une petite escouade d'Ã©lite. L'entrÃ©e est gardÃ©e par un Dragon de Magma.",
            img: "Warrior leading elite soldiers towards a massive magma dragon guarding a cave",
            choices: [
                { txt: "Tenter de dompter le dragon.", next: "6a" },
                { txt: "Lancer une attaque coordonnÃ©e.", next: "6b" }
            ]
        },
        "5b": {
            chapter: "Chapitre 5 : Le CÅ“ur du Volcan",
            text: "La chaleur est insoutenable. Vous Ãªtes seul. Devant vous se dresse le Dragon de Magma. Il ne semble pas hostile, mais il garde le passage vers le CÅ“ur de l'Ã‰ther.",
            img: "Face to face with a giant magma dragon, intense heat, lava falls, epic scale",
            choices: [
                { txt: "NÃ©gocier votre passage en offrant un souvenir prÃ©cieux.", next: "6a" },
                { txt: "Utiliser la magie de glace pour vous frayer un chemin.", next: "6b" }
            ]
        },
        "5c": {
            chapter: "Chapitre 5 : Le PrÃ©dateur",
            text: "La plante se dessÃ¨che instantanÃ©ment. Vous Ãªtes puissant, trop puissant. Le Dragon de Magma vous sent arriver et rugit de peur. Vous n'Ãªtes plus une proie.",
            img: "Scary powerful mage walking on lava, dragon looking fearful in background, dark energy swirls",
            choices: [
                { txt: "DÃ©truire le dragon et absorber son feu.", next: "6c" }
            ]
        },
        // --- Chapitre 6-9 (AccÃ©lÃ©ration vers la fin) ---
        "6a": {
            chapter: "Chapitre 6 : L'AlliÃ©",
            text: "Le Dragon accepte votre offre. Il vous porte sur son dos et plonge dans la cheminÃ©e du volcan. Vous descendez vers le Noyau de la Terre.",
            img: "Riding a magma dragon diving into a volcano crater, epic dynamic shot, fire particles",
            choices: [{ txt: "Se prÃ©parer Ã  la confrontation finale.", next: "7" }]
        },
        "6b": {
            chapter: "Chapitre 6 : Le Tueur de Dragon",
            text: "Le combat est titanesque. Le dragon tombe, son corps formant un pont sur la lave. Vous traversez, blessÃ© mais victorieux. Le Noyau est juste en bas.",
            img: "Dead dragon body forming a bridge over lava, warrior walking on it, heroic atmosphere",
            choices: [{ txt: "Descendre vers le Noyau.", next: "7" }]
        },
        "6c": {
            chapter: "Chapitre 6 : L'Avatar du Vide",
            text: "Vous avez absorbÃ© le dragon. Votre corps est en feu. Vous ne marchez plus, vous lÃ©vitez. Le Noyau vous appelle.",
            img: "Character floating with fire wings and dark energy, descending into a volcano",
            choices: [{ txt: "Rejoindre le Noyau.", next: "7" }]
        },
        "7": {
            chapter: "Chapitre 7 : Le Sanctuaire IntÃ©rieur",
            text: "Vous y Ãªtes. Une immense caverne de cristal. Au centre, le CÅ“ur de l'Ã‰ther pulse faiblement. Une entitÃ© mÃ©canique ancienne, le Gardien, s'Ã©veille. 'L'Ã©quilibre est rompu', dit-il. 'Que choisis-tu ?'",
            img: "Giant crystal cavern, floating heart of pure white energy, ancient robot guardian awakening",
            choices: [
                { txt: "Ã‰couter ce que le Gardien a Ã  dire.", next: "8" }
            ]
        },
        "8": {
            chapter: "Chapitre 8 : La RÃ©vÃ©lation",
            text: "'Le monde doit changer', dit le Gardien. 'L'Ã‰ther est une ressource finie. Soit nous le restaurons en sacrifiant la technologie, soit nous fusionnons chair et machine pour survivre sans lui, soit nous laissons le cycle se terminer pour renaÃ®tre.'",
            img: "Close up on the ancient robot face, glowing eyes, philosophical atmosphere, reflection of the hero in the metal",
            choices: [
                { txt: "Compris. Je suis prÃªt Ã  choisir.", next: "9" }
            ]
        },
        "9": {
            chapter: "Chapitre 9 : Le Choix Ultime",
            text: "Vous vous tenez devant le CÅ“ur. L'Ã©nergie crÃ©pite autour de vos mains. Le destin du monde repose sur cette dÃ©cision unique.",
            img: "Hero standing hand reached out towards the white glowing heart, energy sparks, suspense",
            choices: [
                { txt: "Restaurer la Magie Pure (Sacrifier la technologie).", next: "end1" },
                { txt: "Fusionner Magie et Machine (L'Ã¨re Techno-Mage).", next: "end2" },
                { txt: "Absorber le CÅ“ur (Devenir un Dieu).", next: "end3" },
                { txt: "DÃ©truire le CÅ“ur (LibÃ©rer l'humanitÃ© de la magie).", next: "end4" }
            ]
        },
        // --- FINS ---
        "end1": {
            chapter: "Ã‰pilogue : L'Ãˆre des Hommes",
            text: "Le CÅ“ur se brise. Plus de magie. Plus de monstres. Juste des hommes et des femmes, seuls face Ã  leur destin, obligÃ©s de reconstruire de leurs mains. C'est dur, mais c'est libre.",
            img: "People building a house with simple tools, sunset, realistic medieval style, gritty but hopeful",
            choices: []
        }
    };

    // --- Moteur de Jeu ---
    const sceneImg = document.getElementById("scene-img");
    const loader = document.getElementById("loader");
    const narrativeDiv = document.getElementById("narrative");
    const choicesDiv = document.getElementById("choices");
    const chapterDisplay = document.getElementById("chapter-display");
    const ttsBtn = document.getElementById("tts-btn");
    const ttsText = document.getElementById("tts-text");

    // Gestionnaire Audio (Text to Speech)
    let speech = new SpeechSynthesisUtterance();
    let isSpeaking = false;
    
    function setupVoice() {
        const voices = window.speechSynthesis.getVoices();
        // Tenter de trouver une voix franÃ§aise de qualitÃ©
        const frVoice = voices.find(v => v.lang === 'fr-FR' && v.name.includes('Google')) || voices.find(v => v.lang === 'fr-FR');
        if (frVoice) speech.voice = frVoice;
        speech.lang = 'fr-FR';
        speech.rate = 0.95; // LÃ©gÃ¨rement plus lent pour le cÃ´tÃ© Ã©pique
        speech.pitch = 1.0;
    }
    // Charger les voix (parfois asynchrone)
    window.speechSynthesis.onvoiceschanged = setupVoice;

    function stopAudio() {
        window.speechSynthesis.cancel();
        isSpeaking = false;
        ttsBtn.classList.remove("speaking");
        ttsText.innerText = "Lire l'histoire";
    }

    function toggleSpeech() {
        if (isSpeaking) {
            stopAudio();
        } else {
            const textToRead = document.getElementById("current-text").innerText;
            speech.text = textToRead;
            window.speechSynthesis.speak(speech);
            isSpeaking = true;
            ttsBtn.classList.add("speaking");
            ttsText.innerText = "ArrÃªter";
            
            speech.onend = function() {
                isSpeaking = false;
                ttsBtn.classList.remove("speaking");
                ttsText.innerText = "Lire l'histoire";
            };
        }
    }

    // Moteur de Rendu
    function renderNode(nodeId) {
        const node = storyNodes[nodeId];
        if (!node) return;

        // 1. Stop Audio if playing
        stopAudio();

        // 2. Update Texte & Header
        chapterDisplay.innerText = node.chapter;
        
        // Animation fade text
        narrativeDiv.style.opacity = 0;
        setTimeout(() => {
            narrativeDiv.innerHTML = `<p id="current-text">${node.text}</p>`;
            narrativeDiv.style.opacity = 1;
        }, 200);

        // 3. GÃ©nÃ©ration Image
        loader.style.display = "flex";
        sceneImg.style.opacity = 0;
        
        // Seed alÃ©atoire pour variation
        const seed = Math.floor(Math.random() * 99999);
        const finalPrompt = encodeURIComponent(ART_STYLE + node.img);
        const imgUrl = `${POLLINATIONS_ROOT}${finalPrompt}?width=900&height=450&seed=${seed}&nologo=true`;

        const imgLoader = new Image();
        imgLoader.onload = () => {
            sceneImg.src = imgUrl;
            loader.style.display = "none";
            sceneImg.style.opacity = 1;
        };
        imgLoader.src = imgUrl;

        // 4. Update Choix
        choicesDiv.innerHTML = "";
        if (node.choices && node.choices.length > 0) {
            node.choices.forEach((choice, index) => {
                const btn = document.createElement("div");
                btn.className = "choice-card";
                btn.innerHTML = `
                    <span class="choice-number">${index + 1}</span>
                    <span class="choice-text">${choice.txt}</span>
                `;
                btn.onclick = () => renderNode(choice.next);
                choicesDiv.appendChild(btn);
            });
        } else {
            // C'est une fin
            const endBox = document.createElement("div");
            endBox.className = "ending-box";
            endBox.innerHTML = `
                <div class="ending-title">FIN DE L'AVENTURE</div>
                <p>Votre destin est scellÃ©.</p>
            `;
            choicesDiv.appendChild(endBox);

            const restart = document.createElement("div");
            restart.className = "choice-card";
            restart.style.justifyContent = "center";
            restart.style.marginTop = "10px";
            restart.innerHTML = `<span class="choice-text">â†º Recommencer</span>`;
            restart.onclick = () => renderNode("1");
            choicesDiv.appendChild(restart);
        }
    }

    // Init
    window.onload = () => {
        setupVoice();
        renderNode("1");
    };

</script>

</body>
</html>